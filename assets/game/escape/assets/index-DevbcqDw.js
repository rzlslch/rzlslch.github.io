import{r as t}from"./phaser-UvlxNa5i.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var e=t();class i extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class s extends e.Scene{constructor(){super("Game"),this.dude,this.cursors,this.blocks=6,this.allBlocks=[],this.block_velocity=-100,this.block_velocity_mult=5,this.dude_width=32,this.dude_speed=400,this.dude_fall=500,this.dude_gravity=1500,this.config={width:500,height:900,top_limit:0,bottom_limit:900},this.score=0,this.touchLeft=!1,this.touchRight=!1,this.lastRoll=0,this.condition={inAir:!1}}create(){this.cameras.main.setBackgroundColor("#f1f1f1"),this.add.image(250,0,"saw").setFlipY(!0),this.add.image(250,900,"saw"),this.cursors=this.input.keyboard.createCursorKeys(),this.input.on("pointerdown",(t=>{t.x<this.config.width/2?(this.touchLeft=!0,this.touchRight=!1):(this.touchRight=!0,this.touchLeft=!1)})),this.input.on("pointerup",(()=>{this.touchLeft=!1,this.touchRight=!1})),this.input.on("pointerout",(()=>{this.touchLeft=!1,this.touchRight=!1})),this.input.on("pointermove",(t=>{if(!t.isDown)return this.touchLeft=!1,void(this.touchRight=!1);t.x<this.config.width/2?(this.touchLeft=!0,this.touchRight=!1):(this.touchRight=!0,this.touchLeft=!1)}));const t=900/this.blocks;this.dude=this.physics.add.sprite(this.config.width/2,100,"dude");for(let i=0;i<this.blocks;i++){var e=this.blockStartPos();let s=this.physics.add.image(e,i*t,"block").setImmovable(!0).setVelocity(0,this.block_velocity);s.body.setAllowGravity(!1),this.physics.add.collider(s,this.dude),this.allBlocks.push(s)}this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:2,end:6}),frameRate:20,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:7,end:11}),frameRate:20,repeat:-1}),this.anims.create({key:"idle",frames:[{key:"dude",frame:0}],frameRate:20}),this.anims.create({key:"jump",frames:[{key:"dude",frame:1}],frameRate:20})}update(){this.allBlocks.forEach((t=>{this.repeatDestroy(t)})),this.dude.setGravityY(this.dude_gravity),this.dude.body.blocked.down||this.dude.body.touching.down?this.condition.inAir=!1:this.condition.inAir=!0;const t=this.cursors.left.isDown||this.touchLeft,e=this.cursors.right.isDown||this.touchRight;t?this.dude.setVelocityX(-this.dude_speed):e?this.dude.setVelocityX(this.dude_speed):this.dude.setVelocityX(0),this.condition.inAir?this.dude.anims.play("jump"):e?this.dude.anims.play("right",!0):t?this.dude.anims.play("left",!0):this.dude.anims.play("idle"),this.dude.x<this.dude_width/2&&(this.dude.x=this.dude_width/2),this.dude.x>this.config.width-this.dude_width/2&&(this.dude.x=this.config.width-this.dude_width/2),(this.dude.y>=this.config.height||this.dude.y<=this.config.top_limit)&&this.setGameOver()}blockStartPos(){var t=this.roll();return t==this.lastRoll?this.blockStartPos():(this.lastRoll=t,100*(t+1)-50)}roll(){return Math.floor(5*Math.random())}repeatDestroy(t){try{t.y<=0&&(t.x=this.blockStartPos(),t.y=900,this.block_velocity>-700&&(this.block_velocity-=this.block_velocity_mult),this.allBlocks.forEach((t=>{t.setVelocity&&t.setVelocity(0,this.block_velocity)})),this.score++)}catch(e){console.log(e)}}setGameOver(){this.scene.start("GameOver",{score:this.score})}}class o extends e.Scene{constructor(){super("GameOver"),this.score}init(t){this.score=t.score}create(){this.cameras.main.setBackgroundColor(16711680),this.add.text(250,450,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(250,500,`Score ${this.score}`,{fontFamily:"Arial Black",fontSize:48,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.restart()})),this.input.keyboard.on("keydown-SPACE",(()=>{this.restart()}))}restart(){location.reload()}}class r extends e.Scene{constructor(){super("MainMenu")}create(){this.add.text(250,350,"Control Using ← →",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(250,450,"or Press Left and Right side",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(250,500,"of the screen",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.add.text(250,600,"Press SPACE or Click to Start",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")})),this.input.keyboard.on("keydown-SPACE",(()=>{this.scene.start("Game")}))}update(){}}class a extends e.Scene{constructor(){super("Preloader")}init(){}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png"),this.load.image("sky","sky.png"),this.load.image("block","block.png"),this.load.image("saw","saw.png"),this.load.spritesheet("dude","trychar01.png",{frameWidth:32,frameHeight:48})}create(){this.scene.start("MainMenu")}}const h={type:e.AUTO,width:500,height:900,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:500,height:900},physics:{default:"arcade",arcade:{gravity:{y:1e3},debug:!1}},scene:[i,a,r,s,o]};document.addEventListener("DOMContentLoaded",(()=>{new e.Game({...h,parent:"game-container"})}));
